{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Catalina\\\\Documents\\\\GitHub\\\\Ansiedapp\\\\comprenXible_React\\\\src\\\\pages\\\\PersonalArea\\\\PersonalArea.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport './personalArea.css';\nimport Navbar from '../../components/navbar/Navbar';\nimport Footer from '../../components/footer/Footer.js';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction PersonalArea(props) {\n  _s();\n\n  let tempUserObject = JSON.parse(sessionStorage.getItem(\"sessionUserCredentials\"));\n  let tempAuthenticationUser = {\n    userEmail: tempUserObject.email,\n    userPassword: tempUserObject.password\n  };\n  console.log(\"Esto te da el authenticationUser\");\n  console.log(tempAuthenticationUser);\n  let authenticationUser = tempAuthenticationUser;\n  const [funciona, setFunciona] = useState(false);\n  useEffect(() => {\n    axios.post('https://localhost:44350/api/authentication/', authenticationUser).then(function (response) {\n      sessionStorage.setItem(\"sessionUserCredentials\", JSON.stringify(response.data));\n      setFunciona(true);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }, [authenticationUser]);\n  debugger;\n  let sessionUserCredentials = sessionStorage.getItem(\"sessionUserCredentials\");\n  sessionUserCredentials = JSON.parse(sessionUserCredentials);\n  var tests = sessionUserCredentials.tests;\n  const [name, setName] = useState(sessionUserCredentials.name);\n  const [email, setEmail] = useState(sessionUserCredentials.email);\n\n  function changeName(event) {\n    setName(event.target.value);\n  }\n\n  function changeEmail(event) {\n    setEmail(event.target.value);\n  }\n\n  function saveChanges() {\n    let changedUser = {\n      \"name\": name,\n      \"email\": sessionUserCredentials.email,\n      \"newEmail\": email,\n      \"password\": sessionUserCredentials.password\n    };\n    console.log(\"Esto es tu changedUser:\");\n    console.log(changedUser);\n    axios.put('https://localhost:44350/api/users/', changedUser).then(function (response) {\n      console.log(response);\n      let newSessionUserCredentials = {\n        \"name\": {\n          name\n        },\n        \"gender\": sessionUserCredentials.gender,\n        \"email\": {\n          email\n        },\n        \"newEmail\": null,\n        \"password\": sessionUserCredentials.password,\n        \"tests\": sessionUserCredentials.tests\n      };\n      sessionStorage.setItem(\"sessionUserCredentials\", JSON.stringify(newSessionUserCredentials));\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: funciona ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"PersonalArea\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        sessionUserCredentials: props.sessionUserCredentials,\n        setSessionUserCredentials: props.setSessionUserCredentials\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrapper wrapper-filled\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"textContainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Modifica tus datos:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            action: \"modifyUserData\",\n            className: \"userDataForm\",\n            onSubmit: e => e.preventDefault(),\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"userName\",\n              children: \"Nombre:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 70\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"userName\",\n              name: \"userForm\",\n              value: name,\n              onChange: event => changeName(event)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 131\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"userEmail\",\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 70\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"mail\",\n              id: \"userEmail\",\n              name: \"userForm\",\n              value: email,\n              onChange: event => changeEmail(event)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 134\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"button button--bgTransparent-white\",\n              onClick: saveChanges,\n              children: \"Guardar cambios\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"An\\xE1lisis realizados:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            id: \"testRecords\",\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Fecha\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Resultados\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 29\n            }, this), sessionUserCredentials.tests.length !== 0 && sessionUserCredentials != null ? tests.map((test, index) => {\n              let dateParse = new Date(test.date);\n              let date = `${dateParse.getDate()}-${dateParse.getMonth() + 1}-${dateParse.getFullYear()}`;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 45\n                }, this), test.score < 5 ? /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"No se muestran rasgos depresivos.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 63\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), test.score >= 5 && test.score <= 10 ? /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"S\\xEDntomas leves.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 84\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), test.score > 10 && test.score <= 15 ? /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"S\\xEDntomas severos, debe acudir a especialista.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 84\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 41\n              }, this);\n            }) : /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"No existen resultados.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this) : \"\"\n  }, void 0, false);\n}\n\n_s(PersonalArea, \"7QJAqRWQ2RcvLp/BBKbFFy7f1P0=\");\n\n_c = PersonalArea;\nexport default PersonalArea;\n\nvar _c;\n\n$RefreshReg$(_c, \"PersonalArea\");","map":{"version":3,"sources":["C:/Users/Catalina/Documents/GitHub/Ansiedapp/comprenXible_React/src/pages/PersonalArea/PersonalArea.js"],"names":["React","useState","useEffect","Navbar","Footer","axios","PersonalArea","props","tempUserObject","JSON","parse","sessionStorage","getItem","tempAuthenticationUser","userEmail","email","userPassword","password","console","log","authenticationUser","funciona","setFunciona","post","then","response","setItem","stringify","data","catch","error","sessionUserCredentials","tests","name","setName","setEmail","changeName","event","target","value","changeEmail","saveChanges","changedUser","put","newSessionUserCredentials","gender","setSessionUserCredentials","e","preventDefault","length","map","test","index","dateParse","Date","date","getDate","getMonth","getFullYear","score"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,oBAAP;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,MAAP,MAAmB,mCAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;AAEA,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAAA;;AAEzB,MAAIC,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,wBAAvB,CAAX,CAArB;AACA,MAAIC,sBAAsB,GAAG;AAAEC,IAAAA,SAAS,EAAEN,cAAc,CAACO,KAA5B;AAAmCC,IAAAA,YAAY,EAAER,cAAc,CAACS;AAAhE,GAA7B;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,kCAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYN,sBAAZ;AACA,MAAIO,kBAAkB,GAAGP,sBAAzB;AACA,QAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BrB,QAAQ,CAAC,KAAD,CAAxC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZG,IAAAA,KAAK,CAACkB,IAAN,CAAW,6CAAX,EAA0DH,kBAA1D,EACKI,IADL,CACU,UAAUC,QAAV,EAAoB;AACtBd,MAAAA,cAAc,CAACe,OAAf,CAAuB,wBAAvB,EAAiDjB,IAAI,CAACkB,SAAL,CAAeF,QAAQ,CAACG,IAAxB,CAAjD;AACAN,MAAAA,WAAW,CAAC,IAAD,CAAX;AACH,KAJL,EAKKO,KALL,CAKW,UAAUC,KAAV,EAAiB;AACpBZ,MAAAA,OAAO,CAACC,GAAR,CAAYW,KAAZ;AACH,KAPL;AAQH,GATQ,EASN,CAACV,kBAAD,CATM,CAAT;AAWA;AACA,MAAIW,sBAAsB,GAAGpB,cAAc,CAACC,OAAf,CAAuB,wBAAvB,CAA7B;AACAmB,EAAAA,sBAAsB,GAAGtB,IAAI,CAACC,KAAL,CAAWqB,sBAAX,CAAzB;AACA,MAAIC,KAAK,GAAGD,sBAAsB,CAACC,KAAnC;AAEA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBjC,QAAQ,CAAC8B,sBAAsB,CAACE,IAAxB,CAAhC;AACA,QAAM,CAAClB,KAAD,EAAQoB,QAAR,IAAoBlC,QAAQ,CAAC8B,sBAAsB,CAAChB,KAAxB,CAAlC;;AAEA,WAASqB,UAAT,CAAoBC,KAApB,EAA2B;AACvBH,IAAAA,OAAO,CAACG,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAP;AACH;;AAED,WAASC,WAAT,CAAqBH,KAArB,EAA4B;AACxBF,IAAAA,QAAQ,CAACE,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAR;AACH;;AAED,WAASE,WAAT,GAAuB;AACnB,QAAIC,WAAW,GAAG;AAAE,cAAQT,IAAV;AAAgB,eAASF,sBAAsB,CAAChB,KAAhD;AAAuD,kBAAYA,KAAnE;AAA0E,kBAAYgB,sBAAsB,CAACd;AAA7G,KAAlB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYuB,WAAZ;AACArC,IAAAA,KAAK,CAACsC,GAAN,CAAU,oCAAV,EAAgDD,WAAhD,EACKlB,IADL,CACU,UAAUC,QAAV,EAAoB;AACtBP,MAAAA,OAAO,CAACC,GAAR,CAAYM,QAAZ;AACA,UAAImB,yBAAyB,GAAG;AAAE,gBAAQ;AAAEX,UAAAA;AAAF,SAAV;AAAoB,kBAAUF,sBAAsB,CAACc,MAArD;AAA6D,iBAAS;AAAE9B,UAAAA;AAAF,SAAtE;AAAiF,oBAAY,IAA7F;AAAmG,oBAAYgB,sBAAsB,CAACd,QAAtI;AAAgJ,iBAASc,sBAAsB,CAACC;AAAhL,OAAhC;AACArB,MAAAA,cAAc,CAACe,OAAf,CAAuB,wBAAvB,EAAiDjB,IAAI,CAACkB,SAAL,CAAeiB,yBAAf,CAAjD;AACH,KALL,EAMKf,KANL,CAMW,UAAUC,KAAV,EAAiB;AACpBZ,MAAAA,OAAO,CAACC,GAAR,CAAYW,KAAZ;AACH,KARL;AASH;;AACD,sBAAQ;AAAA,cACHT,QAAQ,gBAEL;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA,8BACI,QAAC,MAAD;AAAQ,QAAA,sBAAsB,EAAEd,KAAK,CAACwB,sBAAtC;AAA8D,QAAA,yBAAyB,EAAExB,KAAK,CAACuC;AAA/F;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAK,QAAA,SAAS,EAAC,wBAAf;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI;AAAM,YAAA,MAAM,EAAC,gBAAb;AAA8B,YAAA,SAAS,EAAC,cAAxC;AAAuD,YAAA,QAAQ,EAAGC,CAAD,IAAOA,CAAC,CAACC,cAAF,EAAxE;AAAA,oCACI;AAAO,cAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAC6C;AAAA;AAAA;AAAA;AAAA,oBAD7C,eAEI;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,EAAE,EAAC,UAAtB;AAAiC,cAAA,IAAI,EAAC,UAAtC;AAAiD,cAAA,KAAK,EAAEf,IAAxD;AAA8D,cAAA,QAAQ,EAAEI,KAAK,IAAID,UAAU,CAACC,KAAD;AAA3F;AAAA;AAAA;AAAA;AAAA,oBAFJ,eAE0G;AAAA;AAAA;AAAA;AAAA,oBAF1G,eAGI;AAAO,cAAA,OAAO,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHJ,eAG6C;AAAA;AAAA;AAAA;AAAA,oBAH7C,eAII;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,EAAE,EAAC,WAAtB;AAAkC,cAAA,IAAI,EAAC,UAAvC;AAAkD,cAAA,KAAK,EAAEtB,KAAzD;AAAgE,cAAA,QAAQ,EAAEsB,KAAK,IAAIG,WAAW,CAACH,KAAD;AAA9F;AAAA;AAAA;AAAA;AAAA,oBAJJ,eAI6G;AAAA;AAAA;AAAA;AAAA,oBAJ7G,eAKI;AAAQ,cAAA,IAAI,EAAC,QAAb;AAAsB,cAAA,SAAS,EAAC,oCAAhC;AAAqE,cAAA,OAAO,EAAEI,WAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ,eAUI;AAAA;AAAA;AAAA;AAAA,kBAVJ,eAWI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAXJ,eAYI;AAAA;AAAA;AAAA;AAAA,kBAZJ,eAaI;AAAO,YAAA,EAAE,EAAC,aAAV;AAAA,oCACI;AAAA,sCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EAMMV,sBAAsB,CAACC,KAAxB,CAA+BiB,MAA/B,KAA0C,CAA1C,IAA+ClB,sBAAsB,IAAI,IAAzE,GACGC,KAAK,CAACkB,GAAN,CAAU,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACvB,kBAAIC,SAAS,GAAG,IAAIC,IAAJ,CAASH,IAAI,CAACI,IAAd,CAAhB;AACA,kBAAIA,IAAI,GAAI,GAAEF,SAAS,CAACG,OAAV,EAAoB,IAAGH,SAAS,CAACI,QAAV,KAAuB,CAAE,IAAGJ,SAAS,CAACK,WAAV,EAAwB,EAAzF;AACA,kCAEI;AAAA,wCACI;AAAA,4BAAKH;AAAL;AAAA;AAAA;AAAA;AAAA,wBADJ,EAEKJ,IAAI,CAACQ,KAAL,GAAa,CAAb,gBAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAjB,gBAA8D,qCAFnE,EAGKR,IAAI,CAACQ,KAAL,IAAc,CAAd,IAAmBR,IAAI,CAACQ,KAAL,IAAc,EAAjC,gBAAsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAtC,gBAAiE,qCAHtE,EAIKR,IAAI,CAACQ,KAAL,GAAa,EAAb,IAAmBR,IAAI,CAACQ,KAAL,IAAc,EAAjC,gBAAsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAtC,gBAA+F,qCAJpG;AAAA,iBAASP,KAAT;AAAA;AAAA;AAAA;AAAA,sBAFJ;AASH,aAZD,CADH,gBAeG;AAAA,sCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBArBR;AAAA;AAAA;AAAA;AAAA;AAAA,kBAbJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAFJ,eA8CI,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cA9CJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFK,GAmDL;AApDA,mBAAR;AAsDH;;GAxGQ9C,Y;;KAAAA,Y;AA0GT,eAAeA,YAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport './personalArea.css';\r\nimport Navbar from '../../components/navbar/Navbar';\r\nimport Footer from '../../components/footer/Footer.js';\r\nimport axios from \"axios\";\r\n\r\nfunction PersonalArea(props) {\r\n\r\n    let tempUserObject = JSON.parse(sessionStorage.getItem(\"sessionUserCredentials\"));\r\n    let tempAuthenticationUser = { userEmail: tempUserObject.email, userPassword: tempUserObject.password }\r\n    console.log(\"Esto te da el authenticationUser\");\r\n    console.log(tempAuthenticationUser);\r\n    let authenticationUser = tempAuthenticationUser;\r\n    const [funciona, setFunciona] = useState(false)\r\n\r\n    useEffect(() => {\r\n        axios.post('https://localhost:44350/api/authentication/', authenticationUser)\r\n            .then(function (response) {\r\n                sessionStorage.setItem(\"sessionUserCredentials\", JSON.stringify(response.data));\r\n                setFunciona(true)\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            })\r\n    }, [authenticationUser])\r\n\r\n    debugger\r\n    let sessionUserCredentials = sessionStorage.getItem(\"sessionUserCredentials\");\r\n    sessionUserCredentials = JSON.parse(sessionUserCredentials);\r\n    var tests = sessionUserCredentials.tests;\r\n\r\n    const [name, setName] = useState(sessionUserCredentials.name)\r\n    const [email, setEmail] = useState(sessionUserCredentials.email)\r\n\r\n    function changeName(event) {\r\n        setName(event.target.value);\r\n    }\r\n\r\n    function changeEmail(event) {\r\n        setEmail(event.target.value);\r\n    }\r\n\r\n    function saveChanges() {\r\n        let changedUser = { \"name\": name, \"email\": sessionUserCredentials.email, \"newEmail\": email, \"password\": sessionUserCredentials.password };\r\n        console.log(\"Esto es tu changedUser:\")\r\n        console.log(changedUser);\r\n        axios.put('https://localhost:44350/api/users/', changedUser)\r\n            .then(function (response) {\r\n                console.log(response);\r\n                let newSessionUserCredentials = { \"name\": { name }, \"gender\": sessionUserCredentials.gender, \"email\": { email }, \"newEmail\": null, \"password\": sessionUserCredentials.password, \"tests\": sessionUserCredentials.tests };\r\n                sessionStorage.setItem(\"sessionUserCredentials\", JSON.stringify(newSessionUserCredentials));\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            })\r\n    }\r\n    return (<>\r\n        {funciona ?\r\n\r\n            <div className=\"PersonalArea\">\r\n                <Navbar sessionUserCredentials={props.sessionUserCredentials} setSessionUserCredentials={props.setSessionUserCredentials} />\r\n                <div className=\"wrapper wrapper-filled\">\r\n                    <div className=\"textContainer\">\r\n                        <h4>Modifica tus datos:</h4>\r\n                        <hr></hr>\r\n                        <form action=\"modifyUserData\" className=\"userDataForm\" onSubmit={(e) => e.preventDefault()}>\r\n                            <label htmlFor=\"userName\">Nombre:</label><br></br>\r\n                            <input type=\"text\" id=\"userName\" name=\"userForm\" value={name} onChange={event => changeName(event)} /><br></br>\r\n                            <label htmlFor=\"userEmail\">Email:</label><br></br>\r\n                            <input type=\"mail\" id=\"userEmail\" name=\"userForm\" value={email} onChange={event => changeEmail(event)} /><br></br>\r\n                            <button type=\"submit\" className=\"button button--bgTransparent-white\" onClick={saveChanges}>Guardar cambios</button>\r\n                        </form>\r\n                        <br></br>\r\n                        <h4>Análisis realizados:</h4>\r\n                        <hr></hr>\r\n                        <table id=\"testRecords\">\r\n                            <tr>\r\n                                <th>Fecha</th>\r\n                                <th>Resultados</th>\r\n                            </tr>\r\n\r\n                            {(sessionUserCredentials.tests).length !== 0 && sessionUserCredentials != null ?\r\n                                tests.map((test, index) => {\r\n                                    let dateParse = new Date(test.date)\r\n                                    let date = `${dateParse.getDate()}-${dateParse.getMonth() + 1}-${dateParse.getFullYear()}`\r\n                                    return (\r\n\r\n                                        <tr key={index}>\r\n                                            <td>{date}</td>\r\n                                            {test.score < 5 ? <td>No se muestran rasgos depresivos.</td> : <></>}\r\n                                            {test.score >= 5 && test.score <= 10 ? <td>Síntomas leves.</td> : <></>}\r\n                                            {test.score > 10 && test.score <= 15 ? <td>Síntomas severos, debe acudir a especialista.</td> : <></>}\r\n                                        </tr>\r\n                                    )\r\n                                })\r\n                                :\r\n                                <tr>\r\n                                    <td>-</td>\r\n                                    <td>No existen resultados.</td>\r\n                                </tr>\r\n                            }\r\n                        </table>\r\n                    </div>\r\n\r\n                </div>\r\n                <Footer />\r\n            </div>\r\n            :\r\n            \"\"}\r\n    </>)\r\n}\r\n\r\nexport default PersonalArea;\r\n\r\n"]},"metadata":{},"sourceType":"module"}